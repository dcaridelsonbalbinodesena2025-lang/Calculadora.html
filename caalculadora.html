<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Tips K.C⚽️M</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { background-color: #1a1a1a; display: flex; justify-content: center; align-items: center; min-height: 100vh; font-family: 'Courier New', Courier, monospace; }

        .smartphone {
            background-color: #000; width: 400px; height: 750px; border-radius: 50px;
            border: 8px solid #222; display: flex; flex-direction: column; overflow: hidden;
            box-shadow: 0 25px 50px rgba(0,0,0,0.9); position: relative;
        }

        .visor-container {
            flex: 1; background-color: #000; padding: 20px 15px 5px 15px;
            display: flex; flex-direction: column;
        }

        .visor-title {
            font-size: 24px; font-weight: 900; color: #4da6ff; font-family: sans-serif;
            margin-bottom: 10px; text-transform: uppercase; text-align: center;
            text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;
            display: flex; justify-content: center; align-items: center; gap: 2px;
        }

        .ball-emoji { font-size: 20px; text-shadow: none; }

        .analysis-area {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            padding-left: 10px;
        }

        .line { font-size: 13px; line-height: 1.4; text-transform: uppercase; margin-bottom: 4px; font-weight: 900; color: #ebd169; white-space: nowrap; }
        
        .res-badge { padding: 1px 2px; border-radius: 3px; margin: 0 1px; display: inline-block; min-width: 40px; font-size: 14px; background: transparent; font-weight: 900; }

        .soma-media-container {
            width: 100%;
            display: flex; justify-content: center; align-items: center; gap: 8px; margin: 5px 0;
            border-top: 1px solid #333; padding-top: 5px;
        }
        
        .divider-bar { color: #fff; font-weight: 900; }
        .media-badge { padding: 2px 6px; border-radius: 4px; font-size: 14px; font-weight: 900; }

        .tips-area { width: 100%; text-align: center; }

        /* AJUSTE: Barra TIPS com fundo VERMELHO */
        .tips-divider { 
            background-color: #d00; 
            color: #ffffff; 
            margin: 8px 0; 
            font-size: 13px; 
            font-weight: 900; 
            padding: 4px 0;
            width: 100%; 
            text-align: center;
            border-radius: 4px;
            letter-spacing: 1px;
        }

        .indicacao-colorida {
            margin-top: 5px; padding: 4px 12px; border-radius: 4px;
            display: inline-block; font-weight: 900; text-transform: uppercase; font-size: 15px;
        }

        #c15 { color: #fff; font-weight: 900; font-size: 14px; }
        #t1, #t2, #t3 { color: #fff; font-weight: 900; font-size: 11px; }

        .status-bottom { margin-top: auto; padding-bottom: 10px; text-align: center; width: 100%; }
        .status-bottom .line { color: #4da6ff !important; font-size: 15px; font-weight: 900; }
        .input-field { color: #fff; display: inline-block; min-width: 28px; cursor: pointer; padding: 2px 5px; border-radius: 4px; background: #222; font-weight: 900; font-size: 16px; }
        .active { background-color: #4da6ff !important; color: #000 !important; }

        .controls-area { 
            background-color: #000; 
            padding: 0 20px 45px 20px; 
            display: flex; gap: 12px; align-items: flex-end; 
        }

        .key-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; flex: 3.5; }
        
        .key {
            background-color: #333; color: #fff; height: 34px; display: flex; justify-content: center;
            align-items: center; border-radius: 17px; font-size: 17px; cursor: pointer;
            font-family: sans-serif; border: 1px solid #444; user-select: none; font-weight: bold;
        }
        .key:active { background-color: #555; }
        
        .key-clear-all { background-color: #fff; color: #000; font-size: 10px; font-weight: 900; border-color: #fff; }
        .key-c { background-color: #d00; border: 1px solid #900; font-weight: 900; }
        
        .yellow-btn { background-color: #fdd835; flex: 1; border-radius: 30px; display: flex; justify-content: center; align-items: center; height: 155px; cursor: pointer; margin-bottom: 2px; }
        .play-shape { width: 0; height: 0; border-top: 22px solid transparent; border-bottom: 22px solid transparent; border-left: 32px solid #000; margin-left: 6px; }
    </style>
</head>
<body>

<div class="smartphone">
    <div class="visor-container" id="visor-display">
        <div class="visor-title">K.C<span class="ball-emoji">⚽️</span>M</div>

        <div class="analysis-area">
            <div class="line">WIN: 1:<span id="c1" class="res-badge">--</span> X:<span id="c2" class="res-badge">--</span> 2:<span id="c3" class="res-badge">--</span></div>
            <div class="line">DC: 1X:<span id="c4" class="res-badge">--</span> 12:<span id="c5" class="res-badge">--</span> 2X:<span id="c6" class="res-badge">--</span></div>
            <div class="line">BTT: SIM:<span id="c7" class="res-badge">--</span> NÃO:<span id="c8" class="res-badge">--</span></div>
            <div class="line">OV: 0.5:<span id="c9" class="res-badge">--</span> 1.5:<span id="c10" class="res-badge">--</span> 2.5:<span id="c11" class="res-badge">--</span></div>
            <div class="line">UN: 2.5:<span id="c12" class="res-badge">--</span> 3.5:<span id="c13" class="res-badge">--</span> 4.5:<span id="c14" class="res-badge">--</span></div>
        </div>

        <div class="tips-area">
            <div class="soma-media-container line">
                <span>SOMA: <span id="c15">--</span></span>
                <span class="divider-bar">|</span>
                <span>MÉDIA GOL: <span id="media-gol-val" class="media-badge" style="color:#000">--</span></span>
            </div>
            
            <div class="tips-divider">-----------TIPS-----------</div>
            
            <div id="tips-list">
                <div class="line" id="t1">--</div>
                <div class="line" id="t2">--</div>
                <div class="line" id="t3">--</div>
            </div>
            
            <div class="line" id="indicacao-soma" style="color: #00ff00; margin-top: 5px; font-size: 12px;">INDICAÇÃO: --</div>
            <div><div id="indicacao-media" class="indicacao-colorida">--</div></div>
        </div>

        <div class="status-bottom">
            <div class="line">TIME A: JG:<span class="input-field active" data-order="0" id="a-jg" onclick="setActive(this)">--</span> GP:<span class="input-field" data-order="1" id="a-gp" onclick="setActive(this)">--</span> GC:<span class="input-field" data-order="2" id="a-gc" onclick="setActive(this)">--</span></div>
            <div class="line">TIME B: JG:<span class="input-field" data-order="3" id="b-jg" onclick="setActive(this)">--</span> GP:<span class="input-field" data-order="4" id="b-gp" onclick="setActive(this)">--</span> GC:<span class="input-field" data-order="5" id="b-gc" onclick="setActive(this)">--</span></div>
        </div>
    </div>

    <div class="controls-area">
        <div class="key-grid">
            <div class="key" onclick="pressNum('7')">7</div>
            <div class="key" onclick="pressNum('8')">8</div>
            <div class="key" onclick="pressNum('9')">9</div>
            <div class="key" onclick="pressNum('4')">4</div>
            <div class="key" onclick="pressNum('5')">5</div>
            <div class="key" onclick="pressNum('6')">6</div>
            <div class="key" onclick="pressNum('1')">1</div>
            <div class="key" onclick="pressNum('2')">2</div>
            <div class="key" onclick="pressNum('3')">3</div>
            <div class="key key-clear-all" onclick="clearAll()">LIMPAR</div>
            <div class="key" onclick="pressNum('0')">0</div>
            <div class="key key-c" onclick="clearCurrent()">C</div>
        </div>
        <div class="yellow-btn" onclick="nextField()"><div class="play-shape"></div></div>
    </div>
</div>

<script>
    /* Lógica de cálculo permanece inalterada */
    const fields = document.querySelectorAll('.input-field');
    let currentIndex = 0;

    function setActive(element) {
        fields.forEach(f => f.classList.remove('active'));
        element.classList.add('active');
        currentIndex = parseInt(element.getAttribute('data-order'));
    }

    function pressNum(num) {
        let f = fields[currentIndex];
        f.innerText = (f.innerText === '--') ? num : (f.innerText.length < 2 ? f.innerText + num : f.innerText);
    }

    function clearCurrent() { fields[currentIndex].innerText = '--'; }
    function clearAll() { location.reload(); }

    function nextField() {
        if (currentIndex < fields.length - 1) { currentIndex++; setActive(fields[currentIndex]); } 
        else { runCalculation(); }
    }

    function applyStyle(id, percent, type) {
        const el = document.getElementById(id);
        let textColor = "#fff";
        const val = Math.round(percent);

        if (type === 'WIN_BTT') {
            if (val >= 65) textColor = "#00ff00";
            else if (val >= 50) textColor = "#ffff00";
            else textColor = "#ff0000";
        } 
        else if (type === 'OV05') {
            if (val >= 74) textColor = "#00ff00";
            else if (val >= 66) textColor = "#ffff00";
            else textColor = "#ff0000";
        }
        else if (type === 'OV15') {
            if (val >= 77) textColor = "#00ff00";
            else if (val >= 66) textColor = "#ffff00";
            else textColor = "#ff0000";
        }
        else if (type === 'OV25_UN') {
            if (val >= 60) textColor = "#00ff00";
            else if (val >= 56) textColor = "#ffff00";
            else textColor = "#ff0000";
        }
        el.style.color = textColor;
        el.innerText = val + "%";
    }

    function runCalculation() {
        let allFilled = true;
        fields.forEach(f => { if(f.innerText === '--') allFilled = false; });
        if(!allFilled) return;

        const a_jg = parseFloat(fields[0].innerText), a_gp = parseFloat(fields[1].innerText), a_gc = parseFloat(fields[2].innerText);
        const b_jg = parseFloat(fields[3].innerText), b_gp = parseFloat(fields[4].innerText), b_gc = parseFloat(fields[5].innerText);

        const fA = (a_gp / a_jg) + (b_gc / b_jg), fB = (b_gp / b_jg) + (a_gc / a_jg), tF = fA + fB;
        const w1 = (fA / tF) * 82, w2 = (fB / tF) * 82, wx = 100 - w1 - w2;

        applyStyle('c1', w1, 'WIN_BTT'); applyStyle('c2', wx, 'WIN_BTT'); applyStyle('c3', w2, 'WIN_BTT');

        const dcs = [{id:'c4', v:w1+wx}, {id:'c5', v:w1+w2}, {id:'c6', v:w2+wx}].sort((a,b) => b.v - a.v);
        document.getElementById(dcs[0].id).style.color = "#00ff00";
        document.getElementById(dcs[1].id).style.color = "#ffff00";
        document.getElementById(dcs[2].id).style.color = "#ff0000";
        dcs.forEach(d => document.getElementById(d.id).innerText = Math.round(d.v) + "%");

        const mG = (a_gp / a_jg) + (b_gp / b_jg);
        applyStyle('c7', Math.min(95, mG * 25), 'WIN_BTT');
        document.getElementById('c8').innerText = (100 - parseInt(document.getElementById('c7').innerText)) + "%";

        applyStyle('c9', Math.min(99, mG * 35), 'OV05');
        applyStyle('c10', Math.min(95, mG * 28), 'OV15');
        applyStyle('c11', Math.min(88, mG * 22), 'OV25_UN');
        
        applyStyle('c12', (100 - parseInt(document.getElementById('c11').innerText)), 'OV25_UN');
        applyStyle('c13', Math.min(95, 110 - (mG * 15)), 'OV25_UN');
        applyStyle('c14', Math.min(99, 105 - (mG * 8)), 'OV25_UN');

        const somaT = Math.round((a_gp/a_jg + a_gc/a_jg) + (b_gp/b_jg + b_gc/b_jg));
        document.getElementById('c15').innerText = somaT;

        const mb = document.getElementById('media-gol-val'), im = document.getElementById('indicacao-media');
        mb.innerText = mG.toFixed(2);

        let bgCol="", txtCol="white", txtM="";
        if(mG <= 2.1) { bgCol="red"; txtM="4.5 UNDER GOL"; }
        else if(mG <= 2.49) { bgCol="yellow"; txtCol="black"; txtM="POSSÍVEL 0.5 OVER"; }
        else if(mG <= 2.89) { bgCol="#adff2f"; txtCol="black"; txtM="0.5 OVER GOL"; }
        else if(mG <= 3.29) { bgCol="darkgreen"; txtM="1.5 OVER GOL"; }
        else { bgCol="darkblue"; txtM="2.5 OVER GOL"; }
        
        mb.style.backgroundColor = bgCol; mb.style.color = txtCol;
        im.style.backgroundColor = bgCol; im.style.color = txtCol;
        im.innerText = txtM;

        let tipS = somaT < 4 ? "4.5 UNDER" : (somaT <= 5 ? "0.5 OVER" : (somaT <= 7 ? "1.5 OVER" : "2.5 OVER"));
        document.getElementById('indicacao-soma').innerText = "INDICAÇÃO: " + tipS;

        const lbls = {c1:'CASA',c2:'EMPATE',c3:'FORA',c4:'1X',c5:'12',c6:'2X',c7:'AMBAS',c9:'0.5 OVER',c10:'1.5 OVER',c11:'2.5 OVER'};
        let tips = Object.keys(lbls).map(k => ({l:lbls[k], v:parseInt(document.getElementById(k).innerText)}));
        tips.sort((a,b) => b.v - a.v);
        document.getElementById('t1').innerText = `TIP 1: ${tips[0].l} (${tips[0].v}%)`;
        document.getElementById('t2').innerText = `TIP 2: ${tips[1].l} (${tips[1].v}%)`;
        document.getElementById('t3').innerText = `TIP 3: ${tips[2].l} (${tips[2].v}%)`;
    }
</script>
</body>
</html>
